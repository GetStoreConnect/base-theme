(()=>{window.StoreConnect=window.StoreConnect||{};window.StoreConnect.ObserverCallbacks=window.StoreConnect.ObserverCallbacks||[];document.addEventListener("DOMContentLoaded",f);function a(t){window.StoreConnect.ObserverCallbacks.push(t)}function f(){window.StoreConnect.Observer||(window.StoreConnect.Observer=new MutationObserver(t=>{t.forEach(r=>{r.addedNodes.forEach(n=>{n.nodeType===Node.ELEMENT_NODE&&i(n,"mutation")})})}),window.StoreConnect.Observer.observe(document.body,{childList:!0,subtree:!0}),i(document,"initial load"))}function i(t,r){window.StoreConnect.ObserverCallbacks.forEach(n=>n(t))}window.StoreConnectUI=window.StoreConnectUI||{};window.StoreConnectUI.Fulfilment=function(){let t;a(r);function r(e){[...e.querySelectorAll("[data-fulfilment-option-trigger]")].forEach(o=>o.addEventListener("click",n))}function n(e){let o=e.currentTarget.parentNode,c=o.querySelector("[data-fulfilment-option-subset]");e.preventDefault(),t&&!t.contains(o)&&d(t),c?l(c):s(o),u()}function s(e){[...document.querySelectorAll("[data-fulfilment-option]")].map(o=>o.classList.remove("is-selected")),e.classList.add("is-selected"),e.querySelector("input[type=radio]").checked=!0}function d(e){e.classList.remove("is-active"),e.parentNode.classList.remove("is-active")}function l(e){e.classList.add("is-active"),e.parentNode.classList.add("is-active"),t=e}function u(){let o=document.querySelector("[data-fulfilment-button]").closest("form");o.checkValidity()&&!o.querySelector("[data-pending]")&&document.querySelector("[data-fulfilment-button]").removeAttribute("disabled")}}();})();
