{
  "version": 3,
  "sources": ["../../src/scripts/theme/viewport.js", "../../src/scripts/theme/loader.js", "../../src/scripts/theme/utils/init.js", "../../src/scripts/packs/filters.js"],
  "sourcesContent": ["const BREAKPOINTS = [\n  { id: 0, name: 'base' },\n  { id: 1, name: 'small' },\n  { id: 2, name: 'medium' },\n  { id: 3, name: 'large' },\n  { id: 4, name: 'xlarge' },\n  { id: 5, name: 'huge' },\n]\n\nexport const smallAndUp = () => returnBreakpoint() >= 1\n\nexport const mediumAndUp = () => returnBreakpoint() > 1\n\nexport const largeAndUp = () => returnBreakpoint() > 2\n\nexport const xlargeAndUp = () => returnBreakpoint() > 3\n\nexport const hugeAndUp = () => returnBreakpoint() > 4\n\nfunction returnBreakpoint() {\n  let breakpoint\n\n  if (document.querySelector('[data-breakpoint]') === null) {\n    createBreakpointElements()\n  }\n\n  for (var i = 0; i < BREAKPOINTS.length; i++) {\n    const elem = document.querySelector(`[data-breakpoint=\"${BREAKPOINTS[i].id}\"]`)\n\n    if (elem && isVisible(elem)) {\n      breakpoint = BREAKPOINTS[i]\n      break\n    }\n  }\n\n  return breakpoint.id\n}\n\nfunction createBreakpointElements() {\n  BREAKPOINTS.map((breakpoint) => {\n    const elem = document.createElement('div')\n\n    elem.setAttribute('data-breakpoint', breakpoint.id)\n    document.querySelector('body').append(elem)\n  })\n}\n\nfunction isVisible(element) {\n  return window.getComputedStyle(element).display !== 'none'\n}\n", "function Loader(settings) {\n  const target = settings.target || null\n  const contextual = settings.contextual\n\n  return {\n    on: () => stopLoader(target),\n    off: () => startLoader(target, contextual),\n  }\n}\n\nexport function startLoader(container, contextual = false) {\n  const loader = getLoader(container)\n\n  if (loader) {\n    activate(loader, contextual)\n  } else {\n    createLoader(container, contextual)\n  }\n}\n\nexport function stopLoader(container) {\n  const loader = getLoader(container)\n\n  if (loader === null) return\n  loader.classList.remove('is-active')\n}\n\nfunction getLoader(target) {\n  const origin = target || document.querySelector('body')\n  return origin.querySelector('[data-loader]')\n}\n\nfunction activate(loader, contextual = false) {\n  if (loader.classList.contains('Loader')) {\n    loader.classList.add('is-active')\n  } else if (contextual) {\n    loader.classList.add('Loader', 'is-active', 'is-contextual')\n  } else {\n    loader.classList.add('Loader', 'is-active')\n  }\n}\n\nfunction createLoader(target, contextual = false) {\n  const loader = document.createElement('div')\n  const spinner = createSpinner()\n  const destination = target || document.querySelector('body')\n\n  loader.setAttribute('data-loader', '')\n  loader.classList.add('Loader', 'is-active')\n  if (contextual) loader.classList.add('is-contextual')\n  destination.prepend(loader)\n  loader.append(spinner)\n}\n\nfunction createSpinner() {\n  const url = 'http://www.w3.org/2000/svg'\n  const svg = document.createElementNS(url, 'svg')\n  const circle = document.createElementNS(url, 'circle')\n\n  svg.setAttribute('viewBox', '0 0 50 50')\n  svg.classList.add('spinner')\n  circle.setAttribute('cx', '25')\n  circle.setAttribute('cy', '25')\n  circle.setAttribute('r', '20')\n  circle.setAttribute('fill', 'none')\n  circle.setAttribute('stroke-width', '5')\n  circle.classList.add('path')\n  svg.appendChild(circle)\n\n  return svg\n}\n\nexport default Loader\n", "// This script establishes a MutationObserver to detect changes in the DOM and run callbacks when changes are detected.\n// It tries to be efficient about this by establishing only one obeserver and running all callbacks once on each new node.\n// There is a limitation of this mechanism: if a node contains a script that has not before been added to the dom,\n// and it calls onDomChange, its callback won't be run against anything until the next mutation.\n// To work around this, ensure the script is loaded in the initial page load or a previous fetch.\n\nwindow.StoreConnect = window.StoreConnect || {}\nwindow.StoreConnect.ObserverCallbacks = window.StoreConnect.ObserverCallbacks || []\n\ndocument.addEventListener('DOMContentLoaded', establishObserver)\n\nexport function onDomChange(initCallback) {\n  window.StoreConnect.ObserverCallbacks.push(initCallback)\n}\n\nfunction establishObserver() {\n  if (window.StoreConnect.Observer) return\n\n  window.StoreConnect.Observer = new MutationObserver((mutations) => {\n    mutations.forEach((mutation) => {\n      mutation.addedNodes.forEach((node) => {\n        if (node.nodeType === Node.ELEMENT_NODE) {\n          runCallbacks(node, 'mutation')\n        }\n      })\n    })\n  })\n\n  window.StoreConnect.Observer.observe(document.body, { childList: true, subtree: true })\n\n  runCallbacks(document, 'initial load')\n}\n\nfunction runCallbacks(node, _context) {\n  window.StoreConnect.ObserverCallbacks.forEach((callback) => callback(node))\n}\n", "import { mediumAndUp } from '../theme/viewport'\nimport Loader from '../theme/loader'\nimport { onDomChange } from '../theme/utils/init'\n\nwindow.StoreConnectUI = window.StoreConnectUI || {}\n\nwindow.StoreConnectUI.Filters = (function () {\n  let isVisible, loader\n\n  onDomChange(init)\n\n  function init(node) {\n    isVisible = mediumAndUp() ? true : false\n    loader = Loader({ target: null, contextual: false })\n\n    if (mediumAndUp() && node.querySelector('[data-filters-trigger]')) {\n      document.querySelector('[data-filters-button-hide]').classList.remove('is-hidden')\n      document.querySelector('[data-filters-button-show]').classList.add('is-hidden')\n    }\n  }\n\n  function show() {\n    isVisible = true\n\n    if (mediumAndUp()) {\n      document.querySelector('[data-product-sidebar]').classList.remove('is-hidden')\n      document.querySelector('[data-product-grid]').classList.remove('is-expanded')\n      document.querySelector('[data-filters-button-show]').classList.add('is-hidden')\n      document.querySelector('[data-filters-button-hide]').classList.remove('is-hidden')\n\n      if (document.querySelector('[data-card-grid]')) {\n        document.querySelector('[data-card-grid]').classList.add('is-offset-by-sidebar')\n      }\n    } else {\n      document.querySelector('[data-filters]').classList.add('is-active')\n    }\n  }\n\n  function hide() {\n    isVisible = false\n\n    if (mediumAndUp()) {\n      document.querySelector('[data-product-sidebar]').classList.add('is-hidden')\n      document.querySelector('[data-product-grid]').classList.add('is-expanded')\n      document.querySelector('[data-filters-button-show]').classList.remove('is-hidden')\n      document.querySelector('[data-filters-button-hide]').classList.add('is-hidden')\n\n      if (document.querySelector('[data-card-grid]')) {\n        document.querySelector('[data-card-grid]').classList.remove('is-offset-by-sidebar')\n      }\n    } else {\n      document.querySelector('[data-filters]').classList.remove('is-active')\n    }\n  }\n\n  return {\n    toggle: () => (isVisible ? hide() : show()),\n\n    reset: () => document.querySelector('[data-filters]').reset(),\n\n    submit: () => {\n      if (mediumAndUp()) {\n        loader.on()\n        document.querySelector('[data-filters]').submit()\n      }\n    },\n  }\n})()\n"],
  "mappings": "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",
  "names": ["isVisible"]
}
