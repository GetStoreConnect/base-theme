(()=>{function w(e,t=!1){let n=L(e);n?S(n,t):g(e,t)}function y(e){let t=L(e);t!==null&&t.classList.remove("is-active")}function L(e){return(e||document.querySelector("body")).querySelector("[data-loader]")}function S(e,t=!1){e.classList.contains("Loader")?e.classList.add("is-active"):t?e.classList.add("Loader","is-active","is-contextual"):e.classList.add("Loader","is-active")}function g(e,t=!1){let n=document.createElement("div"),a=E(),c=e||document.querySelector("body");n.setAttribute("data-loader",""),n.classList.add("Loader","is-active"),t&&n.classList.add("is-contextual"),c.prepend(n),n.append(a)}function E(){let e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"svg"),n=document.createElementNS(e,"circle");return t.setAttribute("viewBox","0 0 50 50"),t.classList.add("spinner"),n.setAttribute("cx","25"),n.setAttribute("cy","25"),n.setAttribute("r","20"),n.setAttribute("fill","none"),n.setAttribute("stroke-width","5"),n.classList.add("path"),t.appendChild(n),t}window.StoreConnect=window.StoreConnect||{};window.StoreConnect.ObserverCallbacks=window.StoreConnect.ObserverCallbacks||[];document.addEventListener("DOMContentLoaded",O);function m(e){window.StoreConnect.ObserverCallbacks.push(e)}function O(){window.StoreConnect.Observer||(window.StoreConnect.Observer=new MutationObserver(e=>{e.forEach(t=>{t.addedNodes.forEach(n=>{n.nodeType===Node.ELEMENT_NODE&&b(n,"mutation")})})}),window.StoreConnect.Observer.observe(document.body,{childList:!0,subtree:!0}),b(document,"initial load"))}function b(e,t){window.StoreConnect.ObserverCallbacks.forEach(n=>n(e))}m(C);window.addEventListener("popstate",P);var f,i,d,s;function C(e){let t=[...e.querySelectorAll("[data-variant-option]")];t.length!=0&&(s=t[0].closest("[data-variant-option-selector]"),f=s.querySelector("[data-variant-clear-button]"),i=s.querySelector("[data-variant-reset-button]"),d=s.querySelector("[data-variant-selection-prompt]"),t.map(n=>{n.addEventListener("change",a=>{u(a.target)})}),s.querySelectorAll("[data-variant-type] select").forEach(n=>{n.addEventListener("change",a=>{u(a.target)})}),f&&f.addEventListener("click",()=>{A(),i&&i.classList.remove("is-hidden"),d&&d.classList.remove("is-hidden")}),i&&i.addEventListener("click",()=>{q(),u(),i.classList.add("is-hidden"),d&&d.classList.remove("is-hidden")}),u())}function u(e=null){if(!window.variantData)return;let t=e?e.dataset.type:null,n=k();if(Object.keys(n).length==0)return;let a=window.variantData.types,c=window.variantData.products.filter(l=>{for(let o of n)if(l[o.type]!=o.value)return!1;return!0}),r={};for(let l of c)for(let o of a)e&&t==o||(r[o]=r[o]||new Set,r[o].add(l[o]));if(a.length>1)for(let l of Object.keys(r))s.querySelectorAll(`[data-variant-type="${l}"] [data-variant-option]`).forEach(o=>{v(o,!r[l].has(o.value))});let h=x(n);h?p(h.path):(i&&i.classList.remove("is-hidden"),d&&d.classList.add("is-hidden"))}function k(){let e=[];return s.querySelectorAll("[data-variant-type] [data-variant-option]").forEach(t=>{(t.selected||t.checked)&&e.push({type:t.dataset.type,value:t.value})}),e}function A(){let e=f.dataset.clearPath;e?p(e):s.querySelectorAll("[data-variant-type] [data-variant-option]").forEach(t=>{if(t.selected!=null){let n=t.closest("select");if(n){let a=n.querySelectorAll("option");a.length>0&&(a[0].selected=!0)}}t.checked!=null&&(t.checked=!1),v(t,!1)})}function q(){s.querySelectorAll("[data-variant-type] [data-variant-option]").forEach(e=>{e.selected!=null&&(e.selected=e.dataset.selected=="true"),e.checked!=null&&(e.checked=e.dataset.checked=="true"),v(e,!1)})}function x(e){let t=window.variantData.types,n=window.variantData.products;for(let c of t)if(!e.find(r=>r.type==c))return!1;return n.find(c=>{for(let r of e)if(c[r.type]!=r.value)return!1;return!0})}function p(e,t){if(window.location.pathname!=e){e==null&&(e=window.location.pathname);let n=document.querySelector('[data-remote-target="product"]');w(n),fetch(e,{headers:{Accept:"application/json"}}).then(a=>a.json()).then(a=>{D(e),n&&(n.innerHTML=a.html),t&&t()}).catch(a=>{console.log(a)}).finally(()=>{y(n)})}}function D(e){window.location.pathname!==e&&window.history.pushState(e,null,e)}function P(e){p(null)}function v(e,t){e.disabled=t}})();
