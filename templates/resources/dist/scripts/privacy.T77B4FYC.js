(()=>{window.StoreConnect=window.StoreConnect||{};window.StoreConnect.ObserverCallbacks=window.StoreConnect.ObserverCallbacks||[];document.addEventListener("DOMContentLoaded",b);function l(e){window.StoreConnect.ObserverCallbacks.push(e)}function b(){window.StoreConnect.Observer||(window.StoreConnect.Observer=new MutationObserver(e=>{e.forEach(o=>{o.addedNodes.forEach(t=>{t.nodeType===Node.ELEMENT_NODE&&s(t,"mutation")})})}),window.StoreConnect.Observer.observe(document.body,{childList:!0,subtree:!0}),s(document,"initial load"))}function s(e,o){window.StoreConnect.ObserverCallbacks.forEach(t=>t(e))}window.StoreConnect=window.StoreConnect||{};window.StoreConnect.PrivacySettings={close:d,open:i};l(p);function p(e){let o=e.querySelector("[data-privacy-settings-form]");if(o){let t=e.querySelector("[data-privacy-settings-banner]"),n=e.querySelector(".sc-show-privacy-settings");t?(n&&n.classList.add("sc-hide"),t.querySelector("[data-privacy-settings-form-open]").addEventListener("click",i)):n&&n.addEventListener("click",a=>{a.preventDefault(),i()}),[...o.querySelectorAll("[data-privacy-group-optional]")].forEach(a=>{a.querySelector("input[type=checkbox]").addEventListener("change",y)}),[...o.querySelectorAll("[data-cookie-optional]")].map(a=>{a.querySelector("input[type=checkbox]").addEventListener("change",S)}),o.querySelector("[data-privacy-settings-form-close]").addEventListener("click",d)}}function i(){document.querySelector("[data-privacy-settings-form]").classList.add("is-active")}function d(){document.querySelector("[data-privacy-settings-form]").classList.remove("is-active")}function y(e){let o=e.target.id,t=document.querySelector('[data-privacy-group="'+o+'"]'),n=t.querySelectorAll("[data-cookie-optional]"),a=t.querySelectorAll("[data-cookie-label]"),c=t.querySelector('label[for="'+o+'"]');e.target.checked===!0?(e.target.checked=!0,c.innerText=c.dataset.disableLabel,[...a].map(r=>r.innerText=r.dataset.enabledLabel)):(e.target.checked=!1,c.innerText=c.dataset.enableLabel,[...a].map(r=>r.innerText=r.dataset.disabledLabel)),[...n].map(r=>{let u=r.querySelector("input[type=checkbox]");u.checked=!!e.target.checked})}function S(e){let o=e.target.dataset.group,t=document.querySelector('[data-privacy-group="'+o+'"]'),n=e.target.closest("[data-cookie]"),a=t.querySelector("[data-privacy-group-optional] input[type=checkbox]"),c=t.querySelector('label[for="'+o+'"]'),r=n.querySelector("[data-cookie-label]");r.innerText=e.target.checked?r.dataset.enabledLabel:r.dataset.disabledLabel,a.checked=!1,c.innerText=c.dataset.enableLabel}})();
