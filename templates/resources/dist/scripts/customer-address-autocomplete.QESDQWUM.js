(()=>{window.StoreConnect=window.StoreConnect||{};window.StoreConnect.ObserverCallbacks=window.StoreConnect.ObserverCallbacks||[];document.addEventListener("DOMContentLoaded",h);function p(t){window.StoreConnect.ObserverCallbacks.push(t)}function h(){window.StoreConnect.Observer||(window.StoreConnect.Observer=new MutationObserver(t=>{t.forEach(e=>{e.addedNodes.forEach(o=>{o.nodeType===Node.ELEMENT_NODE&&f(o,"mutation")})})}),window.StoreConnect.Observer.observe(document.body,{childList:!0,subtree:!0}),f(document,"initial load"))}function f(t,e){window.StoreConnect.ObserverCallbacks.forEach(o=>o(t))}function v(t){let e=document.querySelector('meta[name="sc-path"]');if(e){let o=e.content;if(o)return`/${o}${t}`}return t}p(C);function C(t){let e=t.querySelector("[data-address-autocomplete]");if(e){let o=e.closest("[data-address-autocomplete-container]"),r=e.closest("form"),c=document.createElement("datalist");c.id="autocomplete-list",e.setAttribute("list","autocomplete-list"),document.body.appendChild(c),e.addEventListener("input",function(d){fetch(v("/checkout/valid_addresses"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(s=>s.json()).then(s=>{c.innerHTML="",s.forEach(n=>{let a=document.createElement("option");a.value=n.address_1,c.appendChild(a)})})}),e.addEventListener("change",function(d){let s=d.target.value,n=data.find(a=>a.address_1===s);if(n){let a=r.querySelector('[autocomplete~="address-line1"]'),l=r.querySelector('[autocomplete~="address-level2"]'),u=r.querySelector('[autocomplete~="address-level1"]'),m=r.querySelector('[autocomplete~="postal-code"]');a&&(a.value=n.address_1),l&&(l.value=n.city),u&&(u.value=n.state),m&&(m.value=n.postal_code)}});let i=r.querySelector('[autocomplete~="country"]');i&&(i.addEventListener("change",d=>{d.target.value==="AU"?o.classList.remove("sc-hide"):o.classList.add("sc-hide")}),i.value="AU")}}})();
